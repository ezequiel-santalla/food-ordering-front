<section>
  @if (recommendationsResource.isLoading()) {
    <div class="flex justify-center py-4">
      <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div>
    </div>
  }

  @if (recommendationsResource.error()) {
    <div class="text-center py-4 text-error">Error al cargar recomendaciones</div>
  }

  @if (recommendations().length > 0) {
    <div class="overflow-x-auto scrollbar-hide mb-8">
      <div class="flex gap-4 items-stretch snap-x snap-mandatory">
        @for (p of recommendations(); track p.publicId) {
          <div class="flex-shrink-0 w-48 sm:w-56 md:w-60 snap-start">
            <app-menu-highlight-card
              [product]="p"
              (select)="openProduct($event)"
              (add)="addToCart($event)"
            />
          </div>
        }
      </div>
    </div>
  }
</section>

@if (selectedProduct()) {
  <app-menu-item-detail-modal
    [product]="selectedProduct()!"
    (close)="closeModal()"
  />
}
