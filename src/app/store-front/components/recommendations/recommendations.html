<section>
  <!-- Loading State -->
  @if (recommendationsResource.isLoading()) {
    <div class="flex justify-center py-4">
      <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div>
    </div>
  }

  <!-- Error State -->
  @if (recommendationsResource.error()) {
    <div class="text-center py-4 text-error">
      Error al cargar recomendaciones
    </div>
  }

  <!-- Contenedor con scroll horizontal -->
  @if (recommendations().length > 0) {
    <div class="overflow-x-auto scrollbar-hide mb-8">
      <!-- items-stretch asegura que todas las cards tengan la misma altura -->
      <div class="flex gap-4 items-stretch">
        @for (menuItem of recommendations(); track menuItem.publicId) {
          <div class="flex-shrink-0">
            <app-menu-item-card
              [image]="menuItem.imageUrl"
              [name]="menuItem.name"
              [description]="menuItem.description"
              [price]="menuItem.price"
              layout="vertical"
              (select)="openProduct(menuItem)">
            </app-menu-item-card>
          </div>
        }
      </div>
    </div>
  }
</section>

@if (selectedProduct()) {
  <app-menu-item-detail-modal
    [product]="selectedProduct()!"
    (close)="closeModal()">
  </app-menu-item-detail-modal>
}
