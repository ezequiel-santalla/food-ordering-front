<app-public-header />
<div class="min-h-[calc(100vh-64px)] bg-base-100 flex flex-col">

  <div class="hero bg-base-200 py-12 lg:py-20 px-4 rounded-b-[3rem] shadow-sm relative overflow-hidden">

    <div class="absolute top-0 right-0 -mr-20 -mt-20 w-80 h-80 rounded-full bg-primary/10 blur-3xl"></div>
    <div class="absolute bottom-0 left-0 -ml-20 -mb-20 w-60 h-60 rounded-full bg-secondary/10 blur-3xl"></div>

    <div class="hero-content text-center flex-col max-w-3xl z-10">

      <h1 class="text-5xl lg:text-7xl font-black tracking-tight text-base-content mb-4">
        Dinno
      </h1>
      <p class="py-2 text-xl text-base-content/70 font-medium max-w-lg mx-auto mb-8">
        La forma más inteligente de pedir comida. Sin esperas, sin errores, directo desde tu mesa.
      </p>

      @if (hasActiveSession()) {
      <div
        class="card bg-base-100 shadow-xl w-full max-w-md border-l-4 border-primary animate-in fade-in slide-in-from-bottom-4 duration-500">
        <div class="card-body items-center text-center">
          <div class="w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mb-2 text-primary">
            <lucide-icon [img]="Utensils" class="w-8 h-8"></lucide-icon>
          </div>
          <h2 class="card-title text-2xl">¡Ya estás en una mesa!</h2>
          <p class="text-gray-500">Actualmente estás conectado a la <strong>Mesa {{ sessionInfo().tableNumber
              }}</strong>.</p>
          <div class="card-actions mt-4 w-full">
            <a [routerLink]="['/session', sessionInfo().sessionId]"
              class="btn btn-primary btn-lg w-full shadow-lg gap-2">
              Ver el Menú y Pedir
              <lucide-icon [img]="ArrowRight" class="w-5 h-5"></lucide-icon>
            </a>
          </div>
        </div>
      </div>

      } @else {
      <div
        class="card w-full max-w-sm bg-base-100 shadow-2xl border border-base-200 hover:shadow-primary/20 transition-all duration-300 transform hover:-translate-y-1">
        <div class="card-body items-center text-center p-8">

          <div class="relative group cursor-pointer" (click)="onScanQr()">
            <div
              class="w-48 h-48 border-4 border-base-300 rounded-3xl flex items-center justify-center relative bg-base-50 group-hover:border-primary transition-colors duration-300">
              <div class="absolute top-0 left-0 w-8 h-8 border-t-4 border-l-4 border-primary rounded-tl-xl -mt-1 -ml-1">
              </div>
              <div
                class="absolute top-0 right-0 w-8 h-8 border-t-4 border-r-4 border-primary rounded-tr-xl -mt-1 -mr-1">
              </div>
              <div
                class="absolute bottom-0 left-0 w-8 h-8 border-b-4 border-l-4 border-primary rounded-bl-xl -mb-1 -ml-1">
              </div>
              <div
                class="absolute bottom-0 right-0 w-8 h-8 border-b-4 border-r-4 border-primary rounded-br-xl -mb-1 -mr-1">
              </div>

              <lucide-icon [img]="QrCode"
                class="w-20 h-20 text-base-content/20 group-hover:text-primary group-hover:scale-110 transition-all duration-300"></lucide-icon>

              <div
                class="absolute inset-x-4 h-0.5 bg-red-500 shadow-[0_0_10px_rgba(239,68,68,0.5)] animate-[scan_2s_ease-in-out_infinite] opacity-50">
              </div>
            </div>
          </div>

          <h3 class="font-bold text-xl mt-6">Escanear Código QR</h3>
          <p class="text-sm text-base-content/60 mb-4">Apunta a la mesa para comenzar</p>

          <button (click)="onScanQr()" class="btn btn-primary btn-wide shadow-lg gap-2">
            <lucide-icon [img]="ScanLine" class="w-5 h-5"></lucide-icon>
            Activar Cámara
          </button>
        </div>
      </div>
      }

    </div>
  </div>

  @if (!hasActiveSession()) {
  <div class="py-16 px-4 bg-base-100">
    <div class="max-w-4xl mx-auto text-center">
      <h2 class="text-3xl font-bold mb-4">¿No estás en un restaurante?</h2>
      <p class="text-gray-500 mb-8 max-w-xl mx-auto">
        No te preocupes. Podés explorar todos los lugares asociados a Dinno, ver sus menús y planear tu próxima salida.
      </p>
      <button class="flex items-center gap-2
         px-4 py-2.5 w-full
         rounded-2xl border border-gray-200
         bg-white shadow-sm
         text-sm text-gray-700
         justify-center sm:justify-start
         hover:bg-base-200 transition" (click)="onFoodVenues()">
        <lucide-icon [img]="Utensils" class="w-4 h-4 text-gray-500"></lucide-icon>
        <span>Ver Restaurantes Disponibles</span>
      </button>

    </div>
  </div>

  <div class="py-16 px-4 bg-base-200/50">
    <div class="max-w-6xl mx-auto">
      <h3 class="text-center text-sm font-bold text-primary uppercase tracking-widest mb-2">La Experiencia Dinno</h3>
      <h2 class="text-center text-3xl md:text-4xl font-bold mb-12">Cómo funciona</h2>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">

        <div class="card bg-base-100 shadow-sm border border-base-200 hover:shadow-md transition-shadow">
          <div class="card-body items-center text-center">
            <div class="w-14 h-14 rounded-2xl bg-blue-100 text-blue-600 flex items-center justify-center mb-4">
              <lucide-icon [img]="QrCode" class="w-7 h-7"></lucide-icon>
            </div>
            <h3 class="card-title">1. Escaneá</h3>
            <p class="text-gray-500">Buscá el código QR en tu mesa. Escanealo con Dinno para vincularte
              instantáneamente.</p>
          </div>
        </div>

        <div class="card bg-base-100 shadow-sm border border-base-200 hover:shadow-md transition-shadow">
          <div class="card-body items-center text-center">
            <div class="w-14 h-14 rounded-2xl bg-orange-100 text-orange-600 flex items-center justify-center mb-4">
              <lucide-icon [img]="Smartphone" class="w-7 h-7"></lucide-icon>
            </div>
            <h3 class="card-title">2. Pedí</h3>
            <p class="text-gray-500">Explorá el menú digital, personalizá tus platos y enviá la orden directo a la
              cocina.</p>
          </div>
        </div>

        <div class="card bg-base-100 shadow-sm border border-base-200 hover:shadow-md transition-shadow">
          <div class="card-body items-center text-center">
            <div class="w-14 h-14 rounded-2xl bg-green-100 text-green-600 flex items-center justify-center mb-4">
              <lucide-icon [img]="Zap" class="w-7 h-7"></lucide-icon>
            </div>
            <h3 class="card-title">3. Disfrutá</h3>
            <p class="text-gray-500">Seguí el estado de tu pedido en tiempo real. Pagá desde la app o llamá al mozo.</p>
          </div>
        </div>

      </div>
    </div>
  </div>
  }

<div class="max-w-4xl mx-auto px-4 py-12">
  <div class="rounded-3xl border border-primary/20 bg-primary/5 p-6 text-center">

    <h3 class="font-bold text-lg mb-2">¿Tenés un restaurante?</h3>

    <p class="text-sm text-base-content/70 mb-1">
      Digitalizá tu menú, pedidos y pagos con Dinno.
    </p>

    <p class="text-xs text-base-content/60 mb-4">
      Dejanos tu número y te contactamos sin compromiso.
    </p>

    <button
      class="inline-flex items-center justify-center gap-2
             px-5 py-2.5 rounded-2xl
             border border-primary/30
             bg-white text-sm text-primary
             shadow-sm hover:bg-primary/10 transition"
      (click)="onContactUs()"
    >
      Contactanos
    </button>

  </div>
</div>

</div>