<header class="bg-base-100 border-b border-base-300 sticky top-0 z-100 shadow-sm">
  <div class="navbar max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 h-14 sm:h-16">
    <div class="navbar-start">
      <div class="flex items-center gap-3">
        <div class="avatar">
            <div class="w-10 h-10 rounded-lg bg-base-200 flex items-center justify-center">
              @if(venueImageUrl()) {
              <img [src]="venueImageUrl()" [alt]="venueName()" />
              } @else {
              <span class="text-xl font-bold">?</span>
              }
            </div>
        </div>

        <div class="flex flex-col min-w-0">
          <span class="font-bold text-base leading-tight truncate">{{ venueName() }}</span>
          <span class="text-sm text-base-content/70 leading-tight truncate">Hola, {{ participantNickname() }}</span>
        </div>
      </div>
    </div>

    <div class="navbar-end flex items-center gap-1">
      <button class="btn btn-ghost btn-circle">
        <div class="indicator">
          <lucide-icon [img]="Bell" class="w-5 h-5"></lucide-icon>
        </div>
      </button>

      <div class="dropdown dropdown-end group">
        
        <div tabindex="0" role="button" class="btn btn-ghost btn-circle avatar relative z-50">
          <lucide-icon [img]="User" class="w-6 h-6"></lucide-icon>
        </div>

        <div class="fixed inset-0 z-40 bg-black/20 backdrop-blur-[2px] transition-all duration-200 
                    invisible opacity-0 group-focus-within:visible group-focus-within:opacity-100 cursor-default">
        </div>

        <ul tabindex="0"
          class="menu menu-md dropdown-content mt-3 z-50 p-3 shadow bg-base-100 rounded-box w-64 border border-base-200 text-base">
          
          @if (isAuthenticated()) {
          <li>
            <a class="py-3 gap-3" routerLink="/profile">
              <lucide-icon [img]="UserCog" class="w-5 h-5"></lucide-icon>
              Mi cuenta
            </a>
          </li>
          } 
          
          @if (hasActiveSession()) {
          <li>
            <a class="py-3 gap-3" (click)="onLeaveSession()">
              <lucide-icon [img]="UtensilsCrossed" class="w-5 h-5"></lucide-icon>
              Abandonar Mesa
            </a>
          </li>
          } 
          
          @if (isAuthenticated()) {
          <li>
            <a class="py-3 gap-3" (click)="onLogout()">
              <lucide-icon [img]="Power" class="w-5 h-"></lucide-icon>
              Cerrar Sesión
            </a>
          </li>
          } 
          
          @if (!isAuthenticated()) {
          <li>
            <a class="py-3 gap-3" routerLink="/auth/login">
              <lucide-icon [img]="LogIn" class="w-5 h-5"></lucide-icon>
              Iniciar Sesión
            </a>
          </li>
          }
        </ul>
      </div>
    </div>
  </div>
</header>